<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    
    <div>
        <p>Rock Paper Scissors</p>
        <button onclick="
            pickComputerMove();
            controlGame(compChoise,'rock');
            updateMovesElement('rock');
            updateResulElement();
        ">Rock</button>

        <button onclick="
            pickComputerMove();
            controlGame(compChoise,'paper');
            updateMovesElement('paper');
            updateResulElement();
        ">Paper</button>

        <button onclick="
            pickComputerMove();
            controlGame(compChoise,'scissors');
            updateMovesElement('scissors');
            updateResulElement();
            
        ">Scissors</button>
        <p class="js-result"></p>
        <p class="js-moves"></p>
        <p class="js-score"></p>
        <button onclick="
            resetSC();
        ">Reset Score Board</button>
    </div>
    <script>
        let scoreBoard = JSON.parse(localStorage.getItem('score')) || {
            win: 0,
            lose: 0,
            draw: 0
            };
            /*
            if(!scoreBoard){
            scoreBoard = {
                win: 0,
                lose: 0,
                draw: 0
                }
            }
            */
        

        updateScoreElement();

        let result = '';

        let compChoise = '';

        function updateResulElement(){
            document.querySelector('.js-result').innerHTML = `Game Result: ${result}`;
        }

        function updateMovesElement(situation = ''){
            document.querySelector('.js-moves').innerHTML = `You: ${situation} - ${compChoise} Computer`;
        }

        function updateScoreElement(){
            document.querySelector('.js-score').innerHTML = `Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`;
        }

        function resetSC(){
            scoreBoard.win = 0;
            scoreBoard.lose = 0;
            scoreBoard.draw = 0;
            localStorage.removeItem('score');
            updateScoreElement();
        }

        function pickComputerMove(){
            
            let randomNum = Math.random()*3;
            
            if(randomNum>=2){
                compChoise = 'rock';
            } 
            else if(randomNum>=1){
                compChoise = 'paper';
            }
            else{
                compChoise = 'scissors';
            }
            console.log(compChoise);

            return compChoise;
        }
        
        function controlGame(compChoise,situation){
            if(situation === 'scissors'){
                if(compChoise === 'rock'){
                    result = 'You are Lose.';
                    scoreBoard.lose++;
                    alert(`Your choise is: scissors and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                
                }
                else if(compChoise === 'paper'){
                    result = 'You are Win.';
                    scoreBoard.win++;
                    alert(`Your choise is: scissors and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                
                }
                else if(compChoise === 'scissors'){
                    result = 'You are Draw.';
                    scoreBoard.draw++;
                    alert(`Your choise is: scissors and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                
            }
            
            }

            else if(situation === 'paper'){
                if(compChoise === 'rock'){
                    result = 'You are Win.';
                    scoreBoard.win++;
                    alert(`Your choise is: paper and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'paper'){
                    result = 'You are Draw.';
                    scoreBoard.draw++;
                    alert(`Your choise is: paper and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'scissors'){
                    result = 'You are Lose.';
                    scoreBoard.lose++;
                    alert(`Your choise is: paper and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
    
            }

            else if(situation === 'rock'){
                if(compChoise === 'rock'){
                    result = 'You are Draw.';
                    scoreBoard.draw++;
                    alert(`Your choise is: rock and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'paper'){
                    result = 'You are Lose.';
                    scoreBoard.lose++;
                    alert(`Your choise is: rock and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'scissors'){
                    result = 'You are Win.';
                    scoreBoard.win ++;
                    alert(`Your choise is: rock and Computer choise is: ${compChoise} so, ${result}
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                
            }
            
            localStorage.setItem('score', JSON.stringify(scoreBoard));

            updateScoreElement();


        }
    </script>
</body>
</html>