<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    
    <div>
        <p>Rock Paper Scissors</p>
        <button onclick="
            pickComputerMove();
            controlGame(compChoise,'rock');
        ">Rock</button>

        <button onclick="
            pickComputerMove();
            controlGame(compChoise,'paper');
        ">Paper</button>

        <button onclick="
            pickComputerMove();
            controlGame(compChoise,'scissors');
            
        ">Scissors</button>
        <button onclick="
            resetSC();
        ">Reset Score Board</button>
    </div>
    <script>
        let scoreBoard = JSON.parse(localStorage.getItem('score')) || {
            win: 0,
            lose: 0,
            draw: 0
            };
            /*
            if(!scoreBoard){
            scoreBoard = {
                win: 0,
                lose: 0,
                draw: 0
                }
            }
            */

        let compChoise = '';

        function resetSC(){
            scoreBoard.win = 0;
            scoreBoard.lose = 0;
            scoreBoard.draw = 0;
            localStorage.removeItem('score');
        }
        function pickComputerMove(){
            
            let randomNum = Math.random()*3;
            
            if(randomNum>=2){
                compChoise = 'rock';
            } 
            else if(randomNum>=1){
                compChoise = 'paper';
            }
            else{
                compChoise = 'scissors';
            }
            console.log(compChoise);

            return compChoise;
        }
        function controlGame(compChoise,situation){
            if(situation === 'scissors'){
                if(compChoise === 'rock'){
                    scoreBoard.lose++;
                    alert(`Your choise is: scissors and Computer choise is: ${compChoise} so, you are lose
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                
                }
                else if(compChoise === 'paper'){
                    scoreBoard.win++;
                    alert(`Your choise is: scissors and Computer choise is: ${compChoise} so, you are win
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                
                }
                else if(compChoise === 'scissors'){
                    scoreBoard.draw++;
                    alert(`Your choise is: scissors and Computer choise is: ${compChoise} so, you are draw
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                
            }
            
            }

            else if(situation === 'paper'){
                if(compChoise === 'rock'){
                    scoreBoard.win++;
                    alert(`Your choise is: paper and Computer choise is: ${compChoise} so, you are win
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'paper'){
                    scoreBoard.draw++;
                    alert(`Your choise is: paper and Computer choise is: ${compChoise} so, you are draw
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'scissors'){
                    scoreBoard.lose++;
                    alert(`Your choise is: paper and Computer choise is: ${compChoise} so, you are lose
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
    
            }

            else if(situation === 'rock'){
                if(compChoise === 'rock'){
                    scoreBoard.draw++;
                    alert(`Your choise is: rock and Computer choise is: ${compChoise} so, you are draw
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'paper'){
                    scoreBoard.lose++;
                    alert(`Your choise is: rock and Computer choise is: ${compChoise} so, you are lose
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                else if(compChoise === 'scissors'){
                    scoreBoard.win ++;
                    alert(`Your choise is: rock and Computer choise is: ${compChoise} so, you are win.
Win: ${scoreBoard.win}, Lose: ${scoreBoard.lose}, Draw: ${scoreBoard.draw}`);
                    
                }
                
            }
            
            localStorage.setItem('score', JSON.stringify(scoreBoard));


        }
    </script>
</body>
</html>